<script src = '/js/navFunctions.js'></script>
<div id = 'back-blur'></div>

<nav>
    <label id = 'hamburguer' for = 'checkbox'></label>
    <input id = 'checkbox' type = 'checkbox'>

    <ul>
        <li class = 'nav-link'><a href = '/catalog'>Apple</a></li>
        <li class = 'nav-link'><a href = '/catalog'>Google</a></li>
        <li><a href = '/' id = 'logo'>MOBIUM<span id = 'dot'>.</span></a></li>
        <li class = 'nav-link'><a href = '/catalog'>Samsung</a></li>
        <li class = 'nav-link'><a href = '/catalog'>Sony</a></li>
    </ul>

    <div id = 'cart-login'>
        <% if (locals.user) { %>
            <a class = 'nav-link' href = '/profile'><img id = 'profile-picture' src = <%= '/img/profileImages/' + (locals.user.image ? locals.user.image : 'default.png') %>></a>
        <% } else { %>
            <div class = 'nav-link' id = 'login'>Login</div> 
        <% } %>

        <div class = 'push-button' id = 'cart'>
            <a href = '/cart'></a>

            <div class = 'dropdown' id = 'cart-dropdown'>
                <div class = 'triangle'></div>
                <ul class = 'content-list'>
                </ul>
            </div>
        </li>
    </div>
</nav>

<div id = 'menu'>

    <% if (locals.user) { %>
        <p><%= 'Hi, ' + user.firstname %></p>
        <button class = 'button' id = 'hamLogout'>Logout</button>
    <% } else { %>
        <button class = 'button' id = 'hamLogin'>Login</button>
    <% } %>

    <ol id = 'content-list'>
        <ol>Catalog >
            <li><a class = 'nav-link' href = '/catalog'>Apple</a></li>
            <li><a class = 'nav-link' href = '/catalog'>Google</a></li>
            <li><a class = 'nav-link' href = '/catalog'>Samsung</a></li>
            <li><a class = 'nav-link' href = '/catalog'>Sony</a></li>
        </ol>

        <ol>Admin Panel ></ol>
    </ol>

    <div>
        <a>Settings</a>
        <img src = '/img/icons/Gear.svg'>
    </div>
</div>

<% if (locals.user) { %>
    <% if (locals.user.admin) { %>
        <%- include('../partials/admin-panel.ejs') %> <!-- Includes Admin Panel -->
    <% } %>
<% } else { %>
    <%- include('../partials/login.ejs') %> <!-- Includes Login popup -->
<% } %>